(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Q80U:function(t,e,n){"use strict";n.r(e),n.d(e,"DocumentModule",function(){return x});var i=n("ofXK"),o=n("85zm"),s=n("fXoL"),r=n("tyNb"),c=n("BFib"),d=n("mrSG"),a=n("cH1L"),l=n("/KA4"),b=n("XNiG"),u=(n("VRyK"),n("EY2u"),n("pLZG")),h=n("1G5W"),g=(n("JX91"),n("eIep"),n("5+tZ"),n("lJxs"),n("nLfN")),p=n("pdGh"),f=n("FwiY"),m=n("3Pt+");n("quSY"),n("LRne"),n("FtGj"),n("vkgz"),n("Kj3r"),n("IzEk"),n("8LU1"),n("HDdC"),"undefined"!=typeof Element&&Element,n("JwMs");let v=(()=>{class t{constructor(t,e,n,i){this.ngControl=t,this.directionality=i,this.nzBorderless=!1,this.nzSize="default",this._disabled=!1,this.disabled$=new b.a,this.dir="ltr",this.destroy$=new b.a,e.addClass(n.nativeElement,"ant-input")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=null!=t&&"false"!=`${t}`}ngOnInit(){var t,e;this.ngControl&&(null===(t=this.ngControl.statusChanges)||void 0===t||t.pipe(Object(u.a)(()=>null!==this.ngControl.disabled),Object(h.a)(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)})),this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(Object(h.a)(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{disabled:e}=t;e&&this.disabled$.next(this.disabled)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(m.c,10),s.Lb(s.F),s.Lb(s.l),s.Lb(a.b,8))},t.\u0275dir=s.Gb({type:t,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostVars:11,hostBindings:function(t,e){2&t&&(s.Cb("disabled",e.disabled||null),s.Db("ant-input-disabled",e.disabled)("ant-input-borderless",e.nzBorderless)("ant-input-lg","large"===e.nzSize)("ant-input-sm","small"===e.nzSize)("ant-input-rtl","rtl"===e.dir))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",disabled:"disabled"},exportAs:["nzInput"],features:[s.zb]}),Object(d.b)([Object(l.a)(),Object(d.c)("design:type",Object)],t.prototype,"nzBorderless",void 0),t})(),y=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[a.a,i.b,f.c,g.b,p.a]]}),t})();var C=n("OzZK"),z=n("C2AL");function M(t,e){if(1&t){const t=s.Rb();s.Qb(0,"div",2),s.Qb(1,"div",3),s.Qb(2,"input",4),s.Xb("ngModelChange",function(e){return s.ic(t),s.Zb().document.title=e}),s.Pb(),s.Qb(3,"button",5),s.Xb("click",function(){return s.ic(t),s.Zb().update()}),s.Mb(4,"i",6),s.Pb(),s.Pb(),s.Qb(5,"label"),s.pc(6),s.ac(7,"date"),s.ac(8,"date"),s.Pb(),s.Qb(9,"textarea",7),s.Xb("ngModelChange",function(e){return s.ic(t),s.Zb().document.content=e}),s.Pb(),s.Pb()}if(2&t){const t=s.Zb();s.Bb(2),s.ec("ngModel",t.document.title),s.Bb(4),s.rc("",s.bc(7,4,t.document.created,"dd.MM.yyyy hh:mm:ss")," / ",s.bc(8,7,t.document.updated,"dd.MM.yyyy hh:mm:ss"),""),s.Bb(3),s.ec("ngModel",t.document.content)}}function w(t,e){1&t&&(s.Qb(0,"div",8),s.Mb(1,"i",9),s.Pb()),2&t&&(s.Bb(1),s.ec("nzType","loading"))}let O=(()=>{class t{constructor(t,e,n){this.route=t,this.router=e,this.firestoreService=n,this.id="",this.document=null}ngOnInit(){this.paramsSub=this.route.params.subscribe(t=>{this.id=t.id,this.reloadDoc()}),this.docChange=this.firestoreService.docChange$.subscribe(t=>{if(t.id===this.document.id)switch(t.action){case"delete":this.router.navigate(["/"]);break;case"update":this.reloadDoc()}})}reloadDoc(){this.firestoreService.getById(this.id).then(t=>{this.document=new o.a(t.id,t.data())}).catch(t=>{console.log(t),this.document=null,this.router.navigate(["/"])})}update(){this.firestoreService.update(this.document)}ngOnDestroy(){this.paramsSub.unsubscribe(),this.docChange.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(r.a),s.Lb(r.c),s.Lb(c.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-document"]],decls:2,vars:2,consts:[["class","page",4,"ngIf"],["class","loading",4,"ngIf"],[1,"page"],[1,"row"],["nz-input","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",3,"ngModel","ngModelChange"],["nz-button","","nzType","text",1,"save",3,"click"],["nz-icon","","nzType","save","nzTheme","outline"],["nz-input","",1,"overflow",3,"ngModel","ngModelChange"],[1,"loading"],["nz-icon","",3,"nzType"]],template:function(t,e){1&t&&(s.nc(0,M,10,10,"div",0),s.nc(1,w,2,1,"div",1)),2&t&&(s.ec("ngIf",null!=e.document),s.Bb(1),s.ec("ngIf",null==e.document))},directives:[i.l,v,m.a,m.d,m.e,C.a,z.a,f.b],pipes:[i.d],styles:[".page[_ngcontent-%COMP%]{height:calc(100vh - 48px)}.page[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:small;color:grey;margin:5px}.overflow[_ngcontent-%COMP%]{height:calc(100% - 54px);overflow:hidden auto;scrollbar-width:thin;scrollbar-color:#7b7b7b #cbcbcb}.overflow[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.overflow[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#cbcbcb;border-radius:20px}.overflow[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#7b7b7b;border-radius:20px;border:2px solid #cbcbcb}.editor[_ngcontent-%COMP%]{height:100%;width:100%}.save[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#001529}.save[_ngcontent-%COMP%]:hover{background-color:#002d5e;border-radius:20px}.save[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff!important}.loading[_ngcontent-%COMP%]{font-size:larger;text-align:center}"]}),t})();var P=n("Hhmg");let x=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[i.b,y,C.b,r.f.forChild([{path:":id",component:O}]),m.b,P.a]]}),t})()}}]);